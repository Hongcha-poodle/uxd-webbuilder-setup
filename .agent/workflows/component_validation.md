---
description: 생성된 프론트엔드 UI 컴포넌트의 품질을 보장하기 위한 유닛 테스트 및 정적 분석 검증 워크플로우
---

# Component Validation Workflow

이 워크플로우는 코드를 생성하는 워크플로우(예: `figma_to_code.md`) 이후에 실행되며, 작성된 Vue 컴포넌트의 무결성, 타입 안정성, 렌더링 안전성을 보장하기 위해 동작합니다.

## Prerequisites
- 생성되거나 수정이 완료된 1개 이상의 타겟 `.vue` 컴포넌트 파일.
- (선택) `vitest`, `@vue/test-utils`가 프로젝트 환경에 세팅되어 있어야 합니다.

## Workflow Steps

1. **검증 대상 식별 및 초기화**:
   - 오케스트레이터가 검증 대상 파일 경로를 식별하고, `expert-vue-tester` 에이전트를 호출합니다.
   
2. **사전 지식 및 규칙 로드**:
   - `.ai/rules/development/expert-vue-tester.md` 규칙을 로드하여 테스트 에이전트의 페르소나와 검증 기준을 확보합니다.

3. **정적 품질 검증 (Static Scanning)**:
   - 타겟 컴포넌트의 타입 정의(`Props`, `Emits`), 상태 관리 로직, Tailwind 클래스의 오탈자 및 시맨틱 마크업 여부를 에이전트가 자체 분석 기법(Self-Review)을 통해 검열합니다.
   - 프로젝트 터미널 환경을 이용해 `vue-tsc` (타입 검사) 또는 `eslint` (문법 검사)를 수행하여 결과를 확보합니다.

4. **단위 테스트 코드 설계 및 작성 (Unit Testing)**:
   - `vitest`와 `@vue/test-utils` 기반의 컴포넌트 마운트, 이벤트 시뮬레이션 로직이 담긴 `[컴포넌트명].spec.ts` 파일을 작성합니다.
   - 예외 처리 엣지 케이스 및 필수 렌더링 요소(`data-node-id` 보존 여부 등)를 테스트 목록에 포함시킵니다.

5. **검증 리포트 및 피드백 루프**:
   - 도출된 잠재적 오류 목록이나 테스트 실패 예상 항목을 리포트 형식으로 산출합니다.
   - **에러가 심각한 경우**: 오케스트레이터는 결과를 코드 작성 에이전트(`expert-figma-to-vue` 등)에게 피드백하여 수정(Self-Correction) 과정을 거치도록 유도합니다.
   - **에러가 없거나 경미한 경우**: 검증 완료 보고서를 사용자에게 출력하고, 작성된 `.spec.ts` 파일을 프로젝트에 저장하도록 안내합니다.

6. **개별 웹 프리뷰 (Web Visual QA)**:
   - 모든 검증이 끝나면 사용자에게 브라우저에서 바로 확인할 수 있는 **다이내믹 프리뷰 URL**을 채팅창에 제공합니다.
   - 출력 예시: "이제 생성된 UI를 확인하실 수 있습니다. 브라우저에서 `http://localhost:3000/preview/컴포넌트명` 에 접속해 주세요."
   - `.ai/rules/development/expert-nuxt-preview.md` 규칙을 참고하여 필요시 `pages/preview/[name].vue` 라우터 구조가 없다면 스캐폴딩할 것을 오케스트레이터 또는 에이전트에게 제안합니다.
